
<!--

	========================================================================

	Color Blindness Tools
	
	A collection of tools for simulating and providing assistance
	with various forms of color vision deficiency.
	
	Copyright (C) 2017 Roland Rytz <roland@draemm.li>
	Licensed under the GNU Affero General Public License Version 3

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU Affero General Public License as
	published by the Free Software Foundation, either version 3 of the
	License, or (at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

	For more information, see:
	https://draemm.li/various/colorVision/license.txt
	
	========================================================================

-->

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		
		<title>
			Color Blindness Tools
		</title>

		<meta name="description" content="Simulations and helpful tools for various forms of color vision deficiency">
		<meta name="author" content="Roland Rytz">
		<meta name="keywords" content="color blindness, color vision deficiency, color blindness simulation, dichromacy, protanopy, deuteranopy, tritanopy">
		<meta name="application-name" content="Color Blindness Tools">
		<meta name="robots" content="index, follow">
		
		<link href="./_css/style.css" rel="stylesheet" type="text/css" media="all">
	</head>
	<body>
		<header id="menu">
			<div>
				<a href="./">
					<h1>Color Blindness Tools</h1>
				</a>
				<hr />
				<img id="thumbnailImage" src="./_exampleImages/fruits.jpg" height="110"/><br />
				<button id="openImage" onclick="showOverlay()">Select Image...</button>
			</div>
			<div class="tabsContainer" id="settingsTabs">
				<nav>
					<label>
						<input type="radio" name="tabs" id="simTab" value="simulate" checked />
						<h2>Simulation</h2>
					</label>
					<label>
						<input type="radio" name="tabs" id="supportTab" value="support" />
						<h2>Helpful Tools</h2>
					</label>
				</nav>
				<article>
					<section id="simulateTabContent">
						<select id="c-simulateMode">
							<optgroup label="Dichromacy">
								<option value="protan">Protanopia</option>
								<option value="deutan">Deuteranopia</option>
								<option value="tritan">Tritanopia</option>
							</optgroup>
							<optgroup label="Monochromacy">
								<option value="rodMonochromacy">Rod Monochromacy</option>
							</optgroup>
						</select>
						
						<div class="settingsBox" id="protanSettings">
							<div class="setting">
								<label for="c-protanIntensity">Intensity</label><br />
								<input  id="c-protanIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<div class="settingsSpacer"></div>
							<div class="settingsInfo">
								<p>
									Simulation based on the method described by
									<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">
										Machado, Oliveira, Fernandes (2009)</a>.
								</p>
							</div>
						</div>
						
						<div class="settingsBox" id="deutanSettings">
							<div class="setting">
								<label for="c-deutanIntensity">Intensity</label><br />
								<input  id="c-deutanIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<div class="settingsSpacer"></div>
							<div class="settingsInfo">
								<p>
									Simulation based on the method described by
									<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">
										Machado, Oliveira, Fernandes (2009)</a>.
								</p>
							</div>
						</div>
						
						<div class="settingsBox" id="tritanSettings">
							<div class="setting">
								<label for="c-tritanIntensity">Intensity</label><br />
								<input  id="c-tritanIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<div class="settingsSpacer"></div>
							<div class="settingsInfo">
								<p>
									Simulation based on the method described by
									<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">
										Machado, Oliveira, Fernandes (2009)</a>.
								</p>
							</div>
						</div>
						
						<div class="settingsBox" id="rodMonochromacySettings">
							<div class="setting">
								<label for="c-contrastLoss">Contrast Loss</label><br />
								<input  id="c-contrastLoss" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<div class="setting">
								<label for="c-acuityLoss">Acuity Loss</label><br />
								<input  id="c-acuityLoss" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
						</div>
						
					</section>
					<section class="tab" id="supportTabContent">
						<select id="c-toolSelect">
							<option value="highlight">Highlight Color</option>
							<option value="saturate">Saturate</option>
							<option value="replace">Switch colors</option>
							<option value="rotate">Rotate hue</option>
						</select>

						<div class="settingsBox" id="highlightSettings">
							<div class="setting">
								<div class="fancyRadio">
									<input class="fancyRadio" type="radio" value="red" name="colorToHighlight" id="hlRed" checked>
									<label class="fancyRadio" for="hlRed">Red</label>
									<input class="fancyRadio" type="radio" value="green" name="colorToHighlight" id="hlGreen">
									<label class="fancyRadio" for="hlGreen">Green</label>
									<input class="fancyRadio" type="radio" value="blue" name="colorToHighlight" id="hlBlue">
									<label class="fancyRadio" for="hlBlue">Blue</label>
									<input class="fancyRadio" type="radio" value="yellow" name="colorToHighlight" id="hlYellow">
									<label class="fancyRadio" for="hlYellow">Yellow</label>
								</div>
							</div>
						</div>

						<div class="settingsBox" id="saturateSettings">
							<div class="setting">
								<label for="c-saturateIntensity">Intensity</label><br />
								<input  id="c-saturateIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
						</div>

						<div class="settingsBox" id="rotateSettings">
							<div class="setting">
								<label for="c-rotateAngle">Angle</label><br />
								<input  id="c-rotateAngle" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
						</div>

						<div class="settingsBox" id="replaceSettings">
							<div class="setting">
								<label>Color Replacements</label>
								<hr>
								<label class="inlineLabel" for="">Red:</label>
								<select id="c-replaceRed" class="inlineSelect">
									<option value="0">Red</option>
									<option value="1">Green</option>
									<option value="2">Blue</option>
								</select><br />
								<label class="inlineLabel" for="">Green:</label>
								<select id="c-replaceGreen" class="inlineSelect">
									<option value="0">Red</option>
									<option value="1">Green</option>
									<option value="2">Blue</option>
								</select><br />
								<label class="inlineLabel" for="">Blue:</label>
								<select id="c-replaceBlue" class="inlineSelect">
									<option value="0">Red</option>
									<option value="1">Green</option>
									<option value="2">Blue</option>
								</select><br />
							</div>
						</div>
						
					</section>
				</article>
			</div>
			<footer>
				<small>
					Code by <a href="/">Roland Rytz</a>. Source on <a target="_blank" href="https://github.com/RolandR/dyschro">GitHub</a>.
				</small>
			</footer>
		</header>

		<div id="maxContainer">
			<div id="imageContainer">
				<div id="canvasContainer">
					<div id="canvasHiderContainer">
						<div id="canvasHider">
							<canvas id="render"></canvas>
						</div>
						<div id="canvasSlider">
							<div class="dragger" id="upperDragger">&lt;||&gt;</div>
							<div class="dragger" id="lowerDragger">&lt;||&gt;</div>
						</div>
					</div>
				</div>
				<img id="image" />
			</div>
		</div>

		<div id="overlay">
			<div class="overlayWindow">
				<div class="flex-fixed">
					<button class="closeOverlayButton" onclick="hideOverlay()">X</button>
					<h2>Select Image</h2>
					<hr />
					<div id="uploadMethods">
						<label id="fileUploadLabel" class="fileLabel" for="fileUpload">
							Upload
							<input id="fileUpload" type="file" accept="image/*" value="Upload..." onchange="uploadFile(this.files)" />
						</label>
						<span id="or">or</span>
						<div id="fileDragTarget">Drag an image here</div>
					</div>
					<hr />
					Or choose from these examples:
				</div>
				<div id="thumbsContainer">
					<div class="thumbContainer" onclick="loadImage('lorikeet.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/lorikeet.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('fruits.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/fruits.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('pencils.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/pencils.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('people-per-household.png');">
						<img class="thumb" src="./_exampleImages/thumbs/people-per-household.png" />
					</div>
					<div class="thumbContainer" onclick="loadImage('rainbow.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/rainbow.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('spectrum.png');">
						<img class="thumb" src="./_exampleImages/thumbs/spectrum.png" />
					</div>
					<div class="thumbContainer" onclick="loadImage('stefan_rainbow.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/stefan_rainbow.jpg" />
					</div>
				</div>
				<div class="overlayButtons">
					<button class="cancelOverlayButton" onclick="hideOverlay()">Cancel</button>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="./_js/tabs.js"></script>
		
		<script type="text/javascript" src="./_js/colorTransforms.js"></script>
		
		<script type="text/javascript" src="./_js/webgl/fragmentshader.js"></script>
		<script type="text/javascript" src="./_js/webgl/vertexshader.js"></script>
		<script type="text/javascript" src="./_js/webgl/renderer.js"></script>

		<script type="text/javascript" src="./_js/settings.js"></script>
		<script type="text/javascript" src="./_js/dyschro.js"></script>
	</body>
</html>
