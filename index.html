<!doctype html>
<html>
	<head>
		<title>
			Color Blindness Tools
		</title>
		<link href="./_css/style.css" rel="stylesheet" type="text/css" media="all">
	</head>
	<body>
		<nav id="menu">
			<h1>Color Blindness Tools</h1>
			<hr />
			<img id="thumbnailImage" src="./_exampleImages/fruits.jpg" height="110"/><br />
			<button id="openImage" onclick="showOverlay()">Select Image...</button>
			<ul class="tabsContainer">
				<li class="tabShell">
					<input class="tabRadio" type="radio" name="tabs" id="simTab" value="simulate" checked />
					<label class="tabLabel" for="simTab">Simulation</label>
					<div class="tab" id="simTabContent">
						<select id="c-simulateMode">
							<optgroup label="Dichromacy">
								<option value="protan">Protanopia</option>
								<option value="deutan">Deuteranopia</option>
								<option value="tritan">Tritanopia</option>
							</optgroup>
							<optgroup label="Monochromacy">
								<option value="coneMonochromacy">Cone Monochromacy</option>
							</optgroup>
						</select>
						
						<div class="settingsBox" id="protanSettings">
							<div class="setting">
								<label for="c-protanIntensity">Intensity</label><br />
								<input  id="c-protanIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<p class="settingsInfo">
								Simulation based on the method described by
								<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">
									Machado, Oliveira, Fernandes (2009)</a>.
							</p>
						</div>
						
						<div class="settingsBox" id="deutanSettings">
							<div class="setting">
								<label for="c-deutanIntensity">Intensity</label><br />
								<input  id="c-deutanIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<p class="settingsInfo">
								Simulation based on the method described by
								<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">
									Machado, Oliveira, Fernandes (2009)</a>.
							</p>
						</div>
						
						<div class="settingsBox" id="tritanSettings">
							<div class="setting">
								<label for="c-tritanIntensity">Intensity</label><br />
								<input  id="c-tritanIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<p class="settingsInfo">
								Simulation based on the method described by
								<a href="http://www.inf.ufrgs.br/~oliveira/pubs_files/CVD_Simulation/CVD_Simulation.html">
									Machado, Oliveira, Fernandes (2009)</a>.
							</p>
						</div>
						
						<div class="settingsBox" id="coneMonochromacySettings">
							<div class="setting">
								<label for="c-coneMonochromacyIntensity">Intensity</label><br />
								<input  id="c-coneMonochromacyIntensity" type="range" min="0" max="1" step="0.01" value="1" /><br />
							</div>
							<!--div class="setting">
								Mode<br />
								<hr />
								<label class="radioLabel">
									Luminosity <input type="radio" id="c-modeLuminosity" name="c-monochromeMode" checked />
								</label><br />
								<label class="radioLabel">
									Lightness <input type="radio" id="c-modeLightness" name="c-monochromeMode" />
								</label><br />
								<label class="radioLabel">
									Average <input type="radio" id="c-modeAverage" name="c-monochromeMode" />
								</label><br />
							</div-->
						</div>
						
					</div>
				</li>

				<li class="tabShell">
					<input class="tabRadio" type="radio" name="tabs" id="supportTab" value="support" />
					<label class="tabLabel" for="supportTab">Helpful Tools</label>
					<div class="tab" id="supportTabContent">
						<select id="c-toolSelect">
							<option value="highlight">Highlight Color</option>
							<option value="saturate">Saturate</option>
							<option value="switch">Switch colors</option>
							<option value="rotate">Rotate hue</option>
						</select>

						<div class="settingsBox" id="highlightSettings">
							<div class="setting">
								<div class="fancyRadio">
									<input class="fancyRadio" type="radio" value="red" name="colorToHighlight" id="hlRed" checked>
									<label class="fancyRadio" for="hlRed">Red</label>
									<input class="fancyRadio" type="radio" value="green" name="colorToHighlight" id="hlGreen">
									<label class="fancyRadio" for="hlGreen">Green</label>
									<input class="fancyRadio" type="radio" value="blue" name="colorToHighlight" id="hlBlue">
									<label class="fancyRadio" for="hlBlue">Blue</label>
									<input class="fancyRadio" type="radio" value="yellow" name="colorToHighlight" id="hlYellow">
									<label class="fancyRadio" for="hlYellow">Yellow</label>
								</div>
							</div>
						</div>
						
					</div>
				</li>
			</ul>
		</nav>
		
		<div id="imageContainer">
				<div id="canvasContainer">
					<div id="canvasHiderContainer">
						<div id="canvasHider">
							<canvas id="render"></canvas>
						</div>
						<div id="canvasSlider" draggable="false">
							<div class="dragger" id="upperDragger">&lt;||&gt;</div>
							<div class="dragger" id="lowerDragger">&lt;||&gt;</div>
						</div>
					</div>
				</div>
				<img id="image" />
		</div>

		<canvas id="buffer"></canvas>

		<div id="overlay">
			<div class="overlayWindow">
				<button class="closeOverlayButton" onclick="hideOverlay()">X</button>
				<h2>Select Image</h2>
				<hr />
				<div id="uploadMethods">
					<label id="fileUploadLabel" class="fileLabel" for="fileUpload">
						Upload...
						<input id="fileUpload" type="file" accept="image/*" value="Upload..." onchange="uploadFile(this.files)" />
					</label>
					<span id="or">or</span>
					<div id="fileDragTarget">Drag an image here...</div>
				</div>
				<hr />
				Or choose from these examples:
				<div id="thumbsContainer">
					<div class="thumbContainer" onclick="loadImage('fruits.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/fruits.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('lorikeet.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/lorikeet.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('pencils.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/pencils.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('rainbow.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/rainbow.jpg" />
					</div>
					<div class="thumbContainer" onclick="loadImage('spectrum.png');">
						<img class="thumb" src="./_exampleImages/thumbs/spectrum.png" />
					</div>
					<div class="thumbContainer" onclick="loadImage('stefan_rainbow.jpg');">
						<img class="thumb" src="./_exampleImages/thumbs/stefan_rainbow.jpg" />
					</div>
				</div>
				<div class="overlayButtons">
					<button class="cancelOverlayButton" onclick="hideOverlay()">Cancel</button>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="./_js/colorTransforms.js"></script>
		
		<script type="text/javascript" src="./_js/webgl/fragmentshader.js"></script>
		<script type="text/javascript" src="./_js/webgl/vertexshader.js"></script>
		<script type="text/javascript" src="./_js/webgl/renderer.js"></script>

		<script type="text/javascript" src="./_js/settings.js"></script>
		<script type="text/javascript" src="./_js/dyschro.js"></script>
	</body>
</html>
